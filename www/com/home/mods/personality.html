<!DOCTYPE html>

<div class="card">
  <div class="item item-toggle">
    Personality
    <label class="toggle toggle-positive">
      <input type="checkbox" ng-model="show">
      <div class="track">
        <div class="handle"></div>
      </div>
    </label>
  </div>
</div>

<!-- <div class="card">
  <div class="item item-text-wrap">
    {{home.idea.personality}}
  </div>
</div> -->

<div ng-if="show" class="card idea-personality" ng-repeat="children in home.idea.personality.tree.children">

  <div class="item item-dark item-toggle">
    {{children.name}}
    <label class="toggle toggle-energized">
      <input type="checkbox" ng-model="showChild">
      <div class="track">
        <div class="handle"></div>
      </div>
    </label>
  </div>
  <!-- <div class="item item-divider">
    {{children}}
  </div> -->
  <div ng-if="showChild" ng-repeat="child in children.children">
    <div class="item item-assertive text-center">
      {{child.name}} : {{child.percentage * 100 | number : 2 }} %
    </div>
    <div ng-repeat="chil in child.children" ng-if="child.children">
      <div class="item item-dark text-center item-toggle">
        {{chil.name}} : {{chil.percentage * 100 | number : 2 }} %
        <label class="toggle toggle-positive">
          <input type="checkbox" ng-model="showChi">
          <div class="track">
            <div class="handle"></div>
          </div>
        </label>
      </div>

      <div class="item-group item item-positive" ng-if="chil.children && showChi">
        <div ng-repeat="chi in chil.children">
          <div class="item item-positive">
            {{chi.name}} : {{chi.percentage * 100 | number : 2 }} %
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
